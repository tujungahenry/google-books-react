{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar logger_1 = require(\"@sentry/utils/logger\");\n\nvar object_1 = require(\"@sentry/utils/object\");\n\nvar error_1 = require(\"./error\");\n\nvar noop_1 = require(\"./transports/noop\");\n/**\n * This is the base implemention of a Backend.\n */\n\n\nvar BaseBackend =\n/** @class */\nfunction () {\n  /** Creates a new browser backend instance. */\n  function BaseBackend(options) {\n    this.options = options;\n\n    if (!this.options.dsn) {\n      logger_1.logger.warn('No DSN provided, backend will not do anything.');\n    }\n\n    this.transport = this.setupTransport();\n  }\n  /**\n   * Sets up the transport so it can be used later to send requests.\n   */\n\n\n  BaseBackend.prototype.setupTransport = function () {\n    return new noop_1.NoopTransport();\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  BaseBackend.prototype.eventFromException = function (_exception, _hint) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        throw new error_1.SentryError('Backend has to implement `eventFromException` method');\n      });\n    });\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  BaseBackend.prototype.eventFromMessage = function (_message, _level, _hint) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        throw new error_1.SentryError('Backend has to implement `eventFromMessage` method');\n      });\n    });\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  BaseBackend.prototype.sendEvent = function (event) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        // TODO: Remove with v5\n        // tslint:disable-next-line\n        if (this.transport.captureEvent) {\n          // tslint:disable-next-line\n          return [2\n          /*return*/\n          , this.transport.captureEvent(event)];\n        } // --------------------\n\n\n        return [2\n        /*return*/\n        , this.transport.sendEvent(object_1.serialize(event))];\n      });\n    });\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  BaseBackend.prototype.storeBreadcrumb = function (_) {\n    return true;\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  BaseBackend.prototype.storeScope = function (_) {// Noop\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  BaseBackend.prototype.getTransport = function () {\n    return this.transport;\n  };\n\n  return BaseBackend;\n}();\n\nexports.BaseBackend = BaseBackend;","map":null,"metadata":{},"sourceType":"script"}