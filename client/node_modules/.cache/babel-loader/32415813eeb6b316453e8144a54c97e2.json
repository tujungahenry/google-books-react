{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\tujun\\\\Desktop\\\\google-books-react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\tujun\\\\Desktop\\\\google-books-react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\tujun\\\\Desktop\\\\google-books-react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\tujun\\\\Desktop\\\\google-books-react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\tujun\\\\Desktop\\\\google-books-react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\tujun\\\\Desktop\\\\google-books-react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\tujun\\\\Desktop\\\\google-books-react\\\\client\\\\src\\\\pages\\\\search.js\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Book from \"../components/Book/index\";\nimport SearchForm from \"../components/SearchForm/index\";\nimport { List } from \"../components/List/index\";\nimport API from \"../utils/API\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: [],\n      q: \"\",\n      message: \"Simply search for books via the Google Books API\"\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.getBooks = function () {\n      API.getBooks(_this.state.q).then(function (res) {\n        return _this.setState({\n          books: res.data,\n          currentPage: 1\n        });\n      }).catch(function () {\n        toast.error(\"Your search did not match any book results.\");\n\n        _this.setState({\n          books: [],\n          message: \"Your search did not match any book results.\",\n          currentPage: 1\n        });\n      });\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      toast.info(\"Searching books... !\");\n\n      _this.getBooks();\n    };\n\n    _this.handleBookSave = function (id) {\n      var book = _this.state.books.find(function (book) {\n        return book.id === id;\n      });\n\n      API.saveBook({\n        googleId: book.id,\n        title: book.volumeInfo.title,\n        subtitle: book.volumeInfo.subtitle,\n        link: book.volumeInfo.infoLink,\n        authors: book.volumeInfo.authors,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.thumbnail\n      }).then(function () {\n        return _this.getBooks();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-10 col-centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"order-sm-2 p-2 bd-highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"image-250\",\n        src: \"/images/img-books-window.jpg\",\n        alt: \"React Google Books Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"order-sm-1 p-2 bd-highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"heading-title mx-sm-3 mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"React Google Books Search\"), React.createElement(\"h2\", {\n        className: \"heading-subtitle mx-sm-3 mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Search for and Save Books of Interest.\"), React.createElement(SearchForm, {\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        q: this.state.q,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-10 col-centered card-content mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"heading-title mx-sm-3 mb-2 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Results\"), this.state.books.length ? React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.state.books.map(function (book) {\n        return React.createElement(Book, {\n          key: book.id,\n          title: book.volumeInfo.title,\n          subtitle: book.volumeInfo.subtitle,\n          link: book.volumeInfo.infoLink,\n          authors: book.volumeInfo.authors.join(\", \"),\n          description: book.volumeInfo.description,\n          image: book.volumeInfo.imageLinks.thumbnail,\n          Button: function Button() {\n            return React.createElement(\"button\", {\n              onClick: function onClick() {\n                return _this2.handleBookSave(book.id);\n              },\n              className: \"btn save-button  heading-subtitle ml-2\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106\n              },\n              __self: this\n            }, \"Save\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        });\n      })) : React.createElement(\"div\", {\n        className: \"mockup-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"heading-title text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, this.state.message)))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\tujun\\Desktop\\google-books-react\\client\\src\\pages\\search.js"],"names":["React","Component","toast","Book","SearchForm","List","API","Search","state","books","q","message","handleInputChange","event","target","name","value","setState","getBooks","then","res","data","currentPage","catch","error","handleFormSubmit","preventDefault","info","handleBookSave","id","book","find","saveBook","googleId","title","volumeInfo","subtitle","link","infoLink","authors","description","image","imageLinks","thumbnail","length","map","join"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Book from \"../components/Book/index\";\nimport SearchForm from \"../components/SearchForm/index\";\nimport { List } from \"../components/List/index\";\nimport API from \"../utils/API\";\n\nclass Search extends Component {\n  state = {\n    books: [],\n    q: \"\",\n    message: \"Simply search for books via the Google Books API\"\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  getBooks = () => {\n    API.getBooks(this.state.q)\n      .then(res =>\n        this.setState({\n          books: res.data,\n          currentPage: 1\n        })\n      )\n      .catch(() => {\n        toast.error(\"Your search did not match any book results.\");\n\n        this.setState({\n          books: [],\n          message: \"Your search did not match any book results.\",\n          currentPage: 1\n        });\n      });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    toast.info(\"Searching books... !\");\n    this.getBooks();\n  };\n\n  handleBookSave = id => {\n    const book = this.state.books.find(book => book.id === id);\n\n    API.saveBook({\n      googleId: book.id,\n      title: book.volumeInfo.title,\n      subtitle: book.volumeInfo.subtitle,\n      link: book.volumeInfo.infoLink,\n      authors: book.volumeInfo.authors,\n      description: book.volumeInfo.description,\n      image: book.volumeInfo.imageLinks.thumbnail\n    }).then(() => this.getBooks());\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-10 col-centered\">\n            <div className=\"d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center align-items-center\">\n              <div className=\"order-sm-2 p-2 bd-highlight\">\n                <img\n                  className=\"image-250\"\n                  src=\"/images/img-books-window.jpg\"\n                  alt=\"React Google Books Search\"\n                />\n              </div>\n              <div className=\"order-sm-1 p-2 bd-highlight\">\n                <h1 className=\"heading-title mx-sm-3 mb-2\">\n                  React Google Books Search\n                </h1>\n                <h2 className=\"heading-subtitle mx-sm-3 mb-2\">\n                  Search for and Save Books of Interest.\n                </h2>\n                <SearchForm\n                  handleInputChange={this.handleInputChange}\n                  handleFormSubmit={this.handleFormSubmit}\n                  q={this.state.q}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-10 col-centered card-content mb-4\">\n            <h1 className=\"heading-title mx-sm-3 mb-2 text-center\">Results</h1>\n\n            {this.state.books.length ? (\n              <List>\n                {this.state.books.map(book => (\n                  <Book\n                    key={book.id}\n                    title={book.volumeInfo.title}\n                    subtitle={book.volumeInfo.subtitle}\n                    link={book.volumeInfo.infoLink}\n                    authors={book.volumeInfo.authors.join(\", \")}\n                    description={book.volumeInfo.description}\n                    image={book.volumeInfo.imageLinks.thumbnail}\n                    Button={() => (\n                      <button\n                        onClick={() => this.handleBookSave(book.id)}\n                        className=\"btn save-button  heading-subtitle ml-2\"\n                      >\n                        Save\n                      </button>\n                    )}\n                  />\n                ))}\n              </List>\n            ) : (\n              <div className=\"mockup-content\">\n                <h2 className=\"heading-title text-center\">\n                  {this.state.message}\n                </h2>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}